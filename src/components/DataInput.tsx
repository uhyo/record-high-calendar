import React, { useRef } from "react";
import classes from "./DataInput.module.css";

const defaultValue = `
2021-06-01,167
2021-06-02,952
2021-06-03,625
2021-06-04,183
2021-06-05,334
2021-06-06,301
2021-06-07,236
2021-06-08,425
2021-06-09,992
2021-06-10,526
2021-06-11,621
2021-06-12,366
2021-06-13,457
2021-06-14,915
2021-06-15,624
2021-06-16,245
2021-06-17,717
2021-06-18,754
2021-06-19,222
2021-06-20,439
2021-06-21,405
2021-06-22,375
2021-06-23,554
2021-06-24,124
2021-06-25,806
2021-06-26,352
2021-06-27,415
2021-06-28,454
2021-06-29,812
2021-06-30,46
2021-07-01,142
2021-07-02,581
2021-07-03,861
2021-07-04,445
2021-07-05,741
2021-07-06,133
2021-07-07,722
2021-07-08,229
2021-07-09,894
2021-07-10,143
2021-07-11,830
2021-07-12,31
2021-07-13,906
2021-07-14,192
2021-07-15,689
2021-07-16,96
2021-07-17,224
2021-07-18,101
2021-07-19,975
2021-07-20,48
2021-07-21,997
2021-07-22,974
2021-07-23,756
2021-07-24,759
2021-07-25,689
2021-07-26,359
2021-07-27,565
2021-07-28,345
2021-07-29,251
2021-07-30,670
2021-07-31,190
2021-08-01,949
2021-08-02,698
2021-08-03,605
2021-08-04,608
2021-08-05,752
2021-08-06,705
2021-08-07,160
2021-08-08,528
2021-08-09,747
2021-08-10,593
2021-08-11,672
2021-08-12,903
2021-08-13,194
2021-08-14,267
2021-08-15,559
2021-08-16,758
2021-08-17,988
2021-08-18,414
2021-08-19,740
2021-08-20,428
2021-08-21,395
2021-08-22,795
2021-08-23,529
2021-08-24,826
2021-08-25,334
2021-08-26,45
2021-08-27,76
2021-08-28,109
2021-08-29,696
2021-08-30,903
2021-08-31,638
`.trim();

type Props = {
  onChange: (data: string) => void;
};

export const DataInput: React.FC<Props> = ({ onChange }) => {
  const textareaRef = useRef<HTMLTextAreaElement | null>(null);
  const clickHandler = () => {
    if (textareaRef.current) {
      onChange(textareaRef.current.value);
    }
  };

  return (
    <div>
      <div>
        <textarea
          ref={textareaRef}
          defaultValue={defaultValue}
          className={classes.textarea}
        />
      </div>
      <div>
        <button className={classes.button} onClick={clickHandler}>
          カレンダー生成
        </button>
      </div>
    </div>
  );
};
